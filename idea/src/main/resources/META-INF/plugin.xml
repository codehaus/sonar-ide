<!DOCTYPE idea-plugin PUBLIC "Plugin/DTD" "http://plugins.intellij.net/plugin.dtd">
<idea-plugin version="2" url="${project.url}">
  <name>Sonar</name>

  <id>${project.groupId}.${project.artifactId}</id>
  <version>${project.version}, ${plugin.timestamp}</version>

  <description><![CDATA[${project.description}]]></description>

  <idea-version since-build="${idea.build}"/>

  <vendor url="${plugin.vendor.url}" email="${plugin.vendor.email}">${plugin.vendor}</vendor>

  <depends>org.jetbrains.idea.maven</depends>

  <application-components>
    <component>
      <implementation-class>org.sonar.ide.idea.IdeaSonarApplicationComponent</implementation-class>
    </component>
    <component>
      <implementation-class>org.sonar.ide.idea.SonarInspectionProvider</implementation-class>
    </component>
  </application-components>

  <project-components>
    <component>
      <implementation-class>org.sonar.ide.idea.IdeaSonarProjectComponent</implementation-class>
    </component>
    <component>
      <implementation-class>org.sonar.ide.idea.SonarWorkspaceSettingsComponent</implementation-class>
    </component>
  </project-components>

  <actions>
    <action id="Sonar.GoToDashboard"
            class="org.sonar.ide.idea.actions.GoToDashboardAction"
            text="Go to dashboard"
        />

    <group id="Sonar.BaseProjectMenu">
      <reference ref="Sonar.GoToDashboard"/>
    </group>

    <!-- TODO add icon for next group -->
    <group id="Sonar.GlobalProjectMenu"
           class="org.sonar.ide.idea.utils.actions.SonarActionGroup"
           text="Sonar" popup="true">
      <add-to-group group-id="EditorPopupMenu" anchor="last"/>
      <add-to-group group-id="ProjectViewPopupMenu" anchor="last"/>
      <reference ref="Sonar.BaseProjectMenu"/>
    </group>
  </actions>

  <extensions defaultExtensionNs="com.intellij">
    <errorHandler implementation="org.sonar.ide.idea.BlameSonar"/>
  </extensions>
</idea-plugin>
